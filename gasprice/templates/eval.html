
<!DOCTYPE HTML>
<html>
<head>
<title>Model Evaluation</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<link href="../static/new/css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
<!-- Custom Theme files -->
<link href="../static/new/css/style.css" rel="stylesheet" type="text/css" media="all"/>
<!--js-->
<script src="../static/new/js/jquery-2.1.1.min.js"></script>
<!--icons-css-->
<link href="../static/new/css/font-awesome.css" rel="stylesheet">
<!--Google Fonts-->
<link href='https://fonts.googleapis.com/css?family=Carrois+Gothic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Work+Sans:400,500,600' rel='stylesheet' type='text/css'>
<!--static chart-->
<script src="../static/new/js/Chart.min.js"></script>
<!--//charts-->
</head>
<body>
<div class="page-container">
   <div class="left-content">
	   <div class="mother-grid-inner">
            <!--header start here-->
				<div class="header-main">
					<div class="header-left">
							<div class="logo-name">
									 <a href="/homedata"> <h1>GasPrediction</h1>
									<!--<img id="logo" src="" alt="Logo"/>-->
								  </a>
							</div>
							<!--search-box-->
								<!--//end-search-box-->
							<div class="clearfix"> </div>
						 </div>
						 <div class="header-right">
                             <script src="../static/js/search.js"></script>
                             <div class="search-box">
{#									<form class="input">#}
										<input onkeyup="searchInfo()"type="text" placeholder="Search..." required="" id="input-info">
										<input type="submit" value="">
{#									</form>#}
								</div>
{#				<div class="search-box">#}
{#					<!--<form class="input">-->#}
{#						<input onkeyup="searchInfo()" class="" placeholder="Search..." type="search" id="input-info" />#}
{##}
{#					<!--</form>-->#}
{#				</div><!--//end-search-box-->#}
							<!--notification menu end -->

							<div class="clearfix"> </div>
						</div>
				     <div class="clearfix"> </div>
				</div>
<!--heder end here-->
<!-- script-for sticky-nav -->
		<script>
		$(document).ready(function() {
			 var navoffeset=$(".header-main").offset().top;
			 $(window).scroll(function(){
				var scrollpos=$(window).scrollTop();
				if(scrollpos >=navoffeset){
					$(".header-main").addClass("fixed");
				}else{
					$(".header-main").removeClass("fixed");
				}
			 });

		});
		</script>
		<!-- /script-for sticky-nav -->
<!--inner block start here-->
<div class="inner-block">
	<div class="cols-grids panel-widget">
						<h2>Model Evaluation</h2>
					</div>
    <div class="chart-main-block">
        <div class="row mb40">
    	<div class="col-md-12 ">
    	   <div class="dygno">
    		     <h2>Input</h2>

				    <form class="com-mail" action="/eval/" method="post">
                                        <div class="form-group">
                                            <label for="exampleInputName2">Please choose prediction model:</label>
                                            <select name="type">
                                                <option value="1">Xgboost model</option>
                                                <option value="2">Random forest model</option>
                                                <option value="3">Extremely random forest model</option>
                                                <option value="4">Gradient boosting regression model</option>
                                                <option value="5">Linear regression model</option>
                                                <option value="6">Bagging Regressor model</option>
                                                <option value="7">LSTM model</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="exampleInputName2">Please choose test set in specified time interval:</label>
                                             <select name="time">
                                                <option value="26100000">2019/01/26 10:00-12:00</option>
                                                <option value="26120000">2019/01/26 12:00-14:00</option>
                                                <option value="26140000">2019/01/26 14:00-16:00</option>
                                                <option value="26160000">2019/01/26 16:00-18:00</option>
                                                <option value="26180000">2019/01/26 18:00-20:00</option>
                                                <option value="26200000">2019/01/26 20:00-22:00</option>
                                                <option value="26220000">2019/01/26 22:00-24:00</option>
                                                <option value="27000000">2019/01/27 00:00-02:00</option>
                                                <option value="27020000">2019/01/27 02:00-04:00</option>
                                                <option value="27040000">2019/01/27 04:00-06:00</option>
                                                <option value="27060000">2019/01/27 06:00-08:00</option>
                                                <option value="27080000">2019/01/27 08:00-10:00</option>
                                            </select>
                                        </div>
{#                                        <div class="form-group">#}
{#                                            <label for="exampleInputEmail2">Transaction num</label>#}
{#                                            <input type="text" class="form-control"  name="count" placeholder="transaction num" required>#}
{#                                        </div>#}
            <button type="submit" class="btn btn-default">Evaluate Now</button>
                                    </form>
                {% if flag == 1 %}
                    <span style="color: red;">    Description:</span>
               {%  if type == "1"  %}<span style="color: red;"> Selected model:Xgboost model</span> {% endif %}
               {%  if type == "2"  %}<span style="color: red;"> Selected model:Random forest model</span> {% endif %}
               {%  if type == "3"  %}<span style="color: red;"> Selected model:Extremely random forest model </span>{% endif %}
               {%  if type == "4"  %}<span style="color: red;"> Selected model:Gradient boosting regression model</span>{% endif %}
               {%  if type == "5"  %}<span style="color: red;"> Selected model:Linear regression model</span> {% endif %}
               {%  if type == "6"  %}<span style="color: red;"> Selected model:Bagging Regressor model</span> {% endif %}
               {%  if type == "7"  %}<span style="color: red;"> Selected model:LSTM model</span> {% endif %}
               {%  if time == 27000000  %}<span style="color: red;"> Time interval:2019/01/27 00:00-02:00</span> {% endif %}
               {%  if time == 27020000  %}<span style="color: red;"> Time interval:2019/01/27 00:20-04:00</span> {% endif %}
               {%  if time == 27040000  %}<span style="color: red;"> Time interval:2019/01/27 04:00-06:00 </span>{% endif %}
               {%  if time == 27060000 %}<span style="color: red;"> Time interval:2019/01/27 06:00-08:00</span>{% endif %}
               {%  if time == 27080000 %}<span style="color: red;"> Time interval:2019/01/27 08:00-10:00</span> {% endif %}
               {%  if time == 26100000 %}<span style="color: red;"> Time interval:2019/01/26 10:00-12:00</span> {% endif %}
               {%  if time == 26120000 %}<span style="color: red;"> Time interval:2019/01/26 12:00-14:00</span> {% endif %}
               {%  if time == 26140000  %}<span style="color: red;"> Time interval:2019/01/26 14:00-16:00</span> {% endif %}
               {%  if time == 26160000  %}<span style="color: red;"> Time interval:2019/01/26 16:00-18:00 </span>{% endif %}
               {%  if time == 26180000 %}<span style="color: red;"> Time interval:2019/01/26 18:00-20:00</span>{% endif %}
               {%  if time == 26200000 %}<span style="color: red;"> Time interval:2019/01/26 20:00-22:00</span> {% endif %}
              {%  if time == 26220000 %}<span style="color: red;"> Time interval:22019/01/26 2:00-24:00</span> {% endif %}
               <span style="color: red;"> Transaction count:{{ count }}</span>
           {% endif %}
			</div>
    	 </div>

    	  <div class="clearfix"> </div>
    	</div>
       <div class="chart-first-line">
    	<div class="col-md-6 chart-blo-1">
    	   <div class="dygno">
    		     <h2>Before and after GasPrice prediction</h2>

				    <canvas id="line" height="300" width="470" style="width: 470px; height: 300px;"></canvas>
								<script>
								var lineChartData = {
						labels : {{ label|safe }},
						datasets : [
							{
								fillColor : "rgba(252, 130, 19, 0.74)",
								strokeColor : "#FC8213",
								pointColor : "#FC8213",
								pointStrokeColor : "#fff",
								data : {{ List1|safe }}
							},
							{
								fillColor : "rgba(51, 122, 183, 0.71)",
								strokeColor : "#337AB7",
								pointColor : "#337AB7",
								pointStrokeColor : "#fff",
								data : {{ List2|safe }}
							}
						]

					};
					 new Chart(document.getElementById("line").getContext("2d")).Line(lineChartData);

								</script>
			</div>
    	 </div>
    	<div class="col-md-6 chart-blo-1">
    	    <div class="line-chart">
    		<h3>The error of prediction</h3>
    		 <canvas id="doughnut" height="300" width="400" style="width: 400px; height: 300px;"> </canvas>
                    <script>
                        var barChartData = {
		            labels : {{ label1|safe }},
		            datasets : [
			        {
				        fillColor : "rgba(51, 122, 183, 0.71)",
                        strokeColor : "#337AB7",
                        pointColor : "#337AB7",
                        pointStrokeColor : "#fff",
				        data :{{ List4|safe }}
			}
		]

	};
	new Chart(document.getElementById("doughnut").getContext("2d")).Bar(barChartData);

                    </script>
    	    </div>
    	  </div>
    	  <div class="clearfix"> </div>
    	</div>
{#    	<div class="chart-second-line">#}
{#    	<div class="col-md-12 ">#}
{#    	     <div class="work-progres" style="overflow-y: auto; height: 400px">#}
{#                            <div class="chit-chat-heading">#}
{#                                  Forecat result Table#}
{#                            </div>#}
{#                            <div class="table-responsive">#}
{#                                <table class="table table-hover">#}
{#                                  <thead>#}
{#                                    <tr>#}
{#                                      <th>ID</th>#}
{#									<th>Real gasprice</th>#}
{#									<th>Predict gasprice</th>#}
{#									<th>error</th>#}
{#                                  </tr>#}
{#                              </thead>#}
{#                              <tbody>#}
{#                                {% for line in data %}#}
{#                                <tr>#}
{#                                <td>{{ line.id }}</td>#}
{#                                <td>{{ line.realval }}</td>#}
{#                                <td>{{ line.predict }}</td>#}
{#                                <td>{{ line.error }}</td>#}
{#                                </tr>#}
{#                {% endfor %}#}
{#                          </tbody>#}
{#                      </table>#}
{#                  </div>#}
{#             </div>#}
{#    	  </div>#}
{##}
{#    	<div class="clearfix"> </div>#}
{#    	</div>#}
    </div>
</div>
<!--inner block end here-->
<!--copy rights start here-->
<div class="copyrights">
	 <p>Copyright &copy; 2019 All rights reserved.</p>
</div>
<!--COPY rights end here-->
</div>
</div>
<!--slider menu-->
    <div class="sidebar-menu" style="background: #336699;">
		  	<div class="logo"> <a href="#" class="sidebar-icon"> <span class="fa fa-bars"></span> </a> <a href="#"> <span id="logo" ></span>
			      <!--<img id="logo" src="" alt="Logo"/>-->
			  </a> </div>
		    <div class="menu">
		      <ul id="menu" >
			   <li id="menu-home" ><a href="/homedata"><i class="fa fa-home"></i><span>Home</span></a></li>
			   <li><a href="/pdataPage"><i class="fa fa-bar-chart"></i><span>Data</span></a></li>
		        <li><a href="#"><i class="fa fa-cogs"></i><span>Estimation</span><span class="fa fa-angle-right" style="float: right"></span></a>
		          <ul>
		            <li><a href="/pre">Forecast</a></li>
		            <li><a href="/eval">Model Evaluation</a></li>
		          </ul>
		        </li>
                  <li><a href="#"><i class="fa fa-envelope"></i><span>Contact</span><span class="fa fa-angle-right" style="float: right"></span></a>
		        	 <ul id="menu-academico-sub" >
			            <li id="menu-academico-avaliacoes" ><a href="/pcontact">Contact Us</a></li>
			            <li id="menu-academico-boletim" ><a href="/pabout">About Us</a></li>
		             </ul>
		        </li>
		      </ul>
		    </div>
	 </div>
	<div class="clearfix"> </div>
</div>
<!--slide bar menu end here-->
<script>
var toggle = true;

$(".sidebar-icon").click(function() {
  if (toggle)
  {
    $(".page-container").addClass("sidebar-collapsed").removeClass("sidebar-collapsed-back");
    $("#menu span").css({"position":"absolute"});
  }
  else
  {
    $(".page-container").removeClass("sidebar-collapsed").addClass("sidebar-collapsed-back");
    setTimeout(function() {
      $("#menu span").css({"position":"relative"});
    }, 400);
  }
                toggle = !toggle;
            });
</script>
<!--scrolling js-->
		<script src="../static/new/js/jquery.nicescroll.js"></script>
		<script src="../static/new/js/scripts.js"></script>
		<!--//scrolling js-->
<script src="../static/new/js/bootstrap.js"> </script>
<!-- mother grid end here-->
</body>
</html>
